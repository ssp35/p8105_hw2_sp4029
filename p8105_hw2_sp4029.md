Homework 2
================
Saryu Patel
10/4/2021

``` r
library(tidyverse)
library(readxl)
```

### Problem 1

``` r
trash_df <- 
  read_excel("data/Trash-Wheel-Collection-Totals-7-2020-2.xlsx", range = "A2:N408") %>% 
  janitor::clean_names() %>% 
  drop_na() %>% 
  mutate(sports_balls = round(sports_balls))
```

``` r
precip_18 <- 
  read_excel("data/Trash-Wheel-Collection-Totals-7-2020-2.xlsx", sheet = 7, range = "A2:B14") %>% 
  janitor::clean_names() %>% 
  mutate(year = 2018)

precip_19 <- 
  read_excel("data/Trash-Wheel-Collection-Totals-7-2020-2.xlsx", sheet = 6, range = "A2:B14") %>% 
  janitor::clean_names() %>% 
  mutate(year = 2019)

precip_df <- 
  bind_rows(precip_18, precip_19) %>% 
  mutate(month = month.name[month])
```

#### Mr. Trash Wheel Dataset

There are 345 observations and 14 variables in the Mr. Trash Wheel
dataset. Some key variables in this dataset include the weight of the
trash in each dumpster in tons and the volume of the trash in cubic
yards. The median number of sports balls in a dumpster in 2019 was 9.

#### Precipitation Dataset

There are 24 observations and 3 variables in the resulting precipitation
dataset. The key variable in this dataset is the total amount of
precipitation each month. The total precipitation in 2018 was 70.33
inches, while the total precipitation in 2019 from January through June
was 33.95 inches.

### Problem 2

Politicians Dataset

``` r
pols_df <- 
  read_csv("data/fivethirtyeight_datasets/pols-month.csv") %>% 
  separate(mon, into = c("year", "month", "day")) %>% 
  mutate(month = month.abb[as.numeric(month)],
         president = recode(prez_dem, `1` = "dem", `0` = "gop")) %>% 
  select(-c(day, prez_gop, prez_dem))
```

    ## Rows: 822 Columns: 9

    ## ── Column specification ────────────────────────────────────────────────────────
    ## Delimiter: ","
    ## dbl  (8): prez_gop, gov_gop, sen_gop, rep_gop, prez_dem, gov_dem, sen_dem, r...
    ## date (1): mon

    ## 
    ## ℹ Use `spec()` to retrieve the full column specification for this data.
    ## ℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.

S&P Stock Dataset

``` r
snp_df <- read_csv("data/fivethirtyeight_datasets/snp.csv")
```

    ## Rows: 787 Columns: 2

    ## ── Column specification ────────────────────────────────────────────────────────
    ## Delimiter: ","
    ## chr (1): date
    ## dbl (1): close

    ## 
    ## ℹ Use `spec()` to retrieve the full column specification for this data.
    ## ℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.

``` r
dates <- snp_df$date %>% as.Date(., "%m/%d/%y")
dates <- as.Date(ifelse(dates > Sys.Date(), format(dates, "19%y-%m-%d"), format(dates)))
snp_df$date = dates

snp_df <- snp_df %>% 
  separate(date, into = c("year", "month", "day")) %>% 
  mutate(month = month.abb[as.numeric(month)]) %>% 
  select(-day)
```

Unemployment Dataset

``` r
unemp_df <- 
  read_csv("data/fivethirtyeight_datasets/unemployment.csv") %>% 
  pivot_longer(
    Jan:Dec,
    names_to = "month",
    values_to = "unemp_rate"
  )
```

    ## Rows: 68 Columns: 13

    ## ── Column specification ────────────────────────────────────────────────────────
    ## Delimiter: ","
    ## dbl (13): Year, Jan, Feb, Mar, Apr, May, Jun, Jul, Aug, Sep, Oct, Nov, Dec

    ## 
    ## ℹ Use `spec()` to retrieve the full column specification for this data.
    ## ℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.

### Problem 3
